<!DOCTYPE html>
<html>
<head> <title>LinkGen for github markdown</title>
</head>
<body>

<script type="module">
  function generateMarkdownLink(heading) {
    let output="";

    // Remove leading hashes and trim whitespace
    const text = heading.replace(/^#+\s*/, '').trim();

    // Create the anchor: lowercase, remove special chars except hyphens, replace spaces with hyphens
    const anchor = text
      .toLowerCase()
      .replace(/[^\w\s-]/g, '') // remove punctuation
      .replace(/\s+/g, '-')     // replace spaces with hyphens;
      document.getElementById('output').textContent = `[${text}](#${anchor})`; // Generate the link text as you type
    };

    document.getElementById('heading').addEventListener("input", (event) => {
      generateMarkdownLink(event.target.value);
    });

    document.getElementById('addLink').addEventListener("click", (event) => {
      document.getElementById('linkList').textContent += document.getElementById('output').textContent+="\n";
    });
  
</script>

<form> <!-- Do you need a form element for a single element and no submit button? -->
  <input type="text" id="heading"></input>
  <div id="output"></div>
  <input type="button" Value="Add link to list" id="addLink">
</form> 
  <div id="linkList"></div>

</body>
